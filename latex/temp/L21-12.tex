%% LaTeX2e file `./temp/L21-12'
%% generated by the `filecontents' environment
%% from source `netCalBookv4' on 2019/02/19.
%%
\begin{problem}
Assume all nodes in a network are of the GR type with rate $R$ and latency $T$. A
  flow with T-SPEC $\alpha(t)=\min(rt+b, M+pt)$
  has performed a reservation with rate
  $R$ across a sequence of $H$ nodes, with $p\geq R$. Assume no reshaping is done.
  What is the buffer requirement at the $h$th node along the path,
  for $h=1,...H$~?
  \sol{~\\
An arrival curve for the input to the $h$th node is $\alpha_{h-1}$, obtained as the
deconvolution of $\alpha$ and a service curve $\beta_{h-1}$ for the concatenation of $h-1$
nodes. We have: $\beta_{h-1}$ is rate-latency, with rate $R$ and latency $(h-1)T'$, with $T'=T+
l_{\max}/R$. Thus, by basic network calculus:
$$
\alpha_{h-1}(t) = \min \left( b_{h-1} + rt, M_{h-1}+Rt \right)
$$
with
$$
b_{h-1}=b+ (h-1) r T'
$$
and
$$
M_{h-1}= (h-1)R T' + M +  \frac{b-M}{p-r}(p-R)
$$
The buffer requirement at node $h$, $v_h$, is the vertical distance $v(\alpha_{h-1},
\beta_{R,T'})$. As an intermediate step, consider the case $\alpha(t)=\min(b+rt,M+Rt)$ and
compute $v=v(\alpha, \beta_{R,T'})$. Define $\theta=\left[\frac{b-M}{R-r}\right]^+$; a simple
analysis gives
$$
\mif \theta \leq T' \mthen v=b+rT' \melse v=M+RT'
$$
In our case we have
$$
\theta=\frac{b-M}{p-r}-(h-1)T'
$$
whence we derive
$$
\mif \frac{b-M}{p-r} \leq h T' \mthen v_h = b + h r T' \melse v_h= M +  \frac{b-M}{p-r}(p-R) +
h R T'
$$
Thus for both small and large $h$, $v_h$ depends linearly on $h$.}
\end{problem}
