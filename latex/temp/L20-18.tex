%% LaTeX2e file `./temp/L20-18'
%% generated by the `filecontents' environment
%% from source `netCalBookv4' on 2019/02/19.
%%
\begin{problem}
A flow with T-SPEC $(p,M,r,b)$ traverses nodes 1 and 2.  Node $i$
offers a service curve $c_{i}(t) = R_{i}(t-T_{i})^{+}$. A shaper
is placed between nodes 1 and 2. The shaper forces the flow to the
arrival curve $z(t)=\min(R_{2}t, bt+m)$.
\begin{enumerate}

\item
What buffer size is required for the flow at the shaper~? \sol{
Let $\tau=\frac{b-M}{p-r}$. If $T_1 > \tau$ then the buffer size
is $B=rT_1+b$. Otherwise,
$$
B = \bracket{ M+(P-R_1)*\tau+R_1T_1 \gap,R_1\leq P, R_1\leq R_2 \\
M+(P-R_2)*\tau+R_2T_1 \gap,R_1\leq P, R_1>R_2 \\ M+PT_1 \gap\gap
,R_1 > P, R_2\geq P \\ M+\tau*(P-R_2)+R_2T_1 \gap ,R_1 > P, R_2<
P }
$$
}
\item
What buffer size is required at node 2~? What value do you find if
$T_{1}=T_{2}$~?
\sol{\\
Let $\tau_{2}=\frac{m}{R_{2}-a}$. The buffer size is:
$$
B_{2}=\bracket{ aT_{2} + m \gap, \tau_{2}<T_{2} \\ R_{2}T_{2} \gap, otherwise}.
$$
$B_{2}$ does not depend on $T_{1}$.
}
\item Compare the sum of the preceding buffer sizes to the size
that would be required if no re-shaping is performed.
\item Give an arrival curve for the output of node 2.
\sol{ Choose any arrival curve that satifies the
conditions}
\end{enumerate}

\end{problem}
